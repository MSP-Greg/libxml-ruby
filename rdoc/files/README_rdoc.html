<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>README.rdoc</title>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <link href='../css/style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      function popupCode(url) {
        window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
      }
      
      function toggleCode(id) {
        var code = document.getElementById(id)
      
        code.style.display = code.style.display != 'block' ? 'block' : 'none'
        return true
      }
      
      // Make codeblocks hidden by default
      document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
    </script>
  </head>
  <body class='page'>
    <div class='file' id='wrapper'>
      <div class='header'>
        <h1 class='name'>README.rdoc</h1>
        <div class='paths'>
          README.rdoc
        </div>
        <div class='last-update'>
          Last Update:
          <span class='datetime'>2017-02-07 23:42:18 -0700</span>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            
            <h1 id="label-LibXML+Ruby"><a href="../classes/LibXML.html">LibXML</a> Ruby<span><a href="#label-LibXML+Ruby">&para;</a> <a href="#top">&uarr;</a></span></h1>
            
            <h2 id="label-Overview">Overview<span><a href="#label-Overview">&para;</a> <a href="#top">&uarr;</a></span></h2>
            
            <p>The libxml gem provides Ruby language bindings for GNOME&#39;s Libxml2 XML
            toolkit. It is free software, released under the MIT License.</p>
            
            <p>We think libxml-ruby is the best XML library for Ruby because:</p>
            <ul><li>
            <p>Speed - Its much faster than REXML and Hpricot</p>
            </li><li>
            <p>Features - It provides an amazing number of featues</p>
            </li><li>
            <p>Conformance - It passes all 1800+ tests from the OASIS XML Tests Suite</p>
            </li></ul>
            
            <h2 id="label-Requirements">Requirements<span><a href="#label-Requirements">&para;</a> <a href="#top">&uarr;</a></span></h2>
            
            <p>libxml-ruby requires Ruby 1.8.4 or higher.  It depends on libxml2 to
            function propoerly.  libxml2, in turn, depends on:</p>
            <ul><li>
            <p>libm      (math routines: very standard)</p>
            </li><li>
            <p>libz      (zlib)</p>
            </li><li>
            <p>libiconv</p>
            </li></ul>
            
            <p>If you are running Linux or Unix you&#39;ll need a C compiler so the
            extension can be compiled when it is installed.  If you are running
            Windows, then install the x64-mingw32 gem or build it yourself using Devkit
            (<a
            href="http://rubyinstaller.org/add-ons/devkit">rubyinstaller.org/add-ons/devkit</a>/)
            or msys2 (<a href="https://msys2.github.io">msys2.github.io</a>/).</p>
            
            <h2 id="label-INSTALLATION">INSTALLATION<span><a href="#label-INSTALLATION">&para;</a> <a href="#top">&uarr;</a></span></h2>
            
            <p>The easiest way to install libxml-ruby is via Ruby Gems.  To install:</p>
            
            <p><code>gem install libxml-ruby</code></p>
            
            <p>If you are running Windows, then install the libxml-ruby-x64-mingw32 gem.
            THe gem inncludes prebuilt extensions for Ruby 2.3.  These extensions are
            built using MinGW64 and libxml2 version 2.9.3, iconv version 1.14 and zlib
            version 1.2.8. Note these binaries are available in the liblibs directory. 
            To use them, put them someplace on your path.</p>
            
            <p>The gem also includes a Microsoft VC++ 2012 solution and XCode 5 project -
            these are very useful for debugging.</p>
            
            <p>libxml-ruby&#39;s source codes lives on Github at <a
            href="https://github.com/xml4r/libxml-ruby">github.com/xml4r/libxml-ruby</a>.</p>
            
            <h2 id="label-Getting+Started">Getting Started<span><a href="#label-Getting+Started">&para;</a> <a href="#top">&uarr;</a></span></h2>
            
            <p>Using libxml is easy. First decide what parser you want to use:</p>
            <ul><li>
            <p>Generally you&#39;ll want to use the <a
            href="../classes/LibXML/XML/Parser.html">LibXML::XML::Parser</a> which
            provides a tree based API.</p>
            </li><li>
            <p>For larger documents that don&#39;t fit into memory, or if you prefer an
            input based API, use the <a
            href="../classes/LibXML/XML/Reader.html">LibXML::XML::Reader</a>.</p>
            </li><li>
            <p>To parse HTML files use <a
            href="../classes/LibXML/XML/HTMLParser.html">LibXML::XML::HTMLParser</a>.</p>
            </li><li>
            <p>If you are masochistic, then use the <a
            href="../classes/LibXML/XML/SaxParser.html">LibXML::XML::SaxParser</a>,
            which provides a callback API.</p>
            </li></ul>
            
            <p>Once you have chosen a parser, choose a datasource.  Libxml can parse
            files, strings, URIs and IO streams.  For each data source you can specify
            an <a href="../classes/LibXML/XML/Encoding.html">LibXML::XML::Encoding</a>,
            a base uri and various parser options.  For more information, refer the <a
            href="../classes/LibXML/XML/Parser.html#method-c-document">LibXML::XML::Parser.document</a>,
            <a
            href="../classes/LibXML/XML/Parser.html#method-c-file">LibXML::XML::Parser.file</a>,
            <a
            href="../classes/LibXML/XML/Parser.html#method-c-io">LibXML::XML::Parser.io</a>
            or LibXML:::XML::Parser.string methods (the same methods are defined on all
            four parser classes).</p>
            
            <h2 id="label-Advanced+Functionality">Advanced Functionality<span><a href="#label-Advanced+Functionality">&para;</a> <a href="#top">&uarr;</a></span></h2>
            
            <p>Beyond the basics of parsing and processing XML and HTML documents, libxml
            provides a wealth of additional functionality.</p>
            
            <p>Most commonly, you&#39;ll want to use its <a
            href="../classes/LibXML/XML/XPath.html">LibXML::XML::XPath</a> support,
            which makes it easy to find data inside a XML document.  Although not as
            popular, <a
            href="../classes/LibXML/XML/XPointer.html">LibXML::XML::XPointer</a>
            provides another API for finding data inside an XML document.</p>
            
            <p>Often times you&#39;ll need to validate data before processing it. For
            example, if you accept user generated content submitted over the Web,
            you&#39;ll want to verify that it does not contain malicious code such as
            embedded scripts. This can be done using libxml&#39;s powerful set of
            validators:</p>
            <ul><li>
            <p>DTDs (LibXML::XML::Dtd)</p>
            </li><li>
            <p>Relax Schemas (LibXML::XML::RelaxNG)</p>
            </li><li>
            <p>XML Schema (LibXML::XML::Schema)</p>
            </li></ul>
            
            <p>Finally, if you&#39;d like to use XSL Transformations to process data, then
            install the libxslt gem which is available at <a
            href="https://github.com/xml4r/libxslt-ruby">github.com/xml4r/libxslt-ruby</a>.</p>
            
            <h2 id="label-Usage">Usage<span><a href="#label-Usage">&para;</a> <a href="#top">&uarr;</a></span></h2>
            
            <p>For information about using libxml-ruby please refer to its documentation
            at <a
            href="http://xml4r.github.com/libxml-ruby/rdoc/index.html">xml4r.github.com/libxml-ruby/rdoc/index.html</a>.
            Some tutorials are also available at <a
            href="https://github.com/xml4r/libxml-ruby/wiki">github.com/xml4r/libxml-ruby/wiki</a>.</p>
            
            <p>All libxml classes are in the <a
            href="../classes/LibXML/XML.html">LibXML::XML</a> module. The easiest way
            to use libxml is to require &#39;xml&#39;.  This will mixin the <a
            href="../classes/LibXML.html">LibXML</a> module into the global namespace,
            allowing you to write code like this:</p>
            
            <pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;xml&#39;</span>&#x000A;<span class="ruby-identifier">document</span> = <span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span></pre>
            
            <p>However, when creating an application or library you plan to redistribute,
            it is best to not add the <a href="../classes/LibXML.html">LibXML</a>
            module to the global namespace, in which case you can either write your
            code like this:</p>
            
            <pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;libxml&#39;</span>&#x000A;<span class="ruby-identifier">document</span> = <span class="ruby-constant">LibXML</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span></pre>
            
            <p>Or you can utilize a namespace for your own work and include <a
            href="../classes/LibXML.html">LibXML</a> into it. For example:</p>
            
            <pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;libxml&#39;</span>&#x000A;&#x000A;<span class="ruby-keyword">module</span> <span class="ruby-constant">MyApplication</span>&#x000A;  <span class="ruby-identifier">include</span> <span class="ruby-constant">LibXML</span>&#x000A;&#x000A;  <span class="ruby-keyword">class</span> <span class="ruby-constant">MyClass</span>&#x000A;    <span class="ruby-keyword">def</span> <span class="ruby-identifier">some_method</span>&#x000A;      <span class="ruby-identifier">document</span> = <span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>&#x000A;    <span class="ruby-keyword">end</span>&#x000A;  <span class="ruby-keyword">end</span>&#x000A;<span class="ruby-keyword">end</span></pre>
            
            <p>For simplicity&#39;s sake, the documentation uses the xml module in its
            examples.</p>
            
            <h2 id="label-Threading">Threading<span><a href="#label-Threading">&para;</a> <a href="#top">&uarr;</a></span></h2>
            
            <p>libxml-ruby fully supports native, background Ruby threads.  This of course
            only applies to Ruby 1.9.x and higher since earlier versions of Ruby do not
            support native threads.</p>
            
            <h2 id="label-Performance">Performance<span><a href="#label-Performance">&para;</a> <a href="#top">&uarr;</a></span></h2>
            
            <p>In addition to being feature rich and conformation, the main reason people
            use libxml-ruby is for performance.  Here are the results  of a couple
            simple benchmarks recently blogged about on the Web (you can find them in
            the benchmark directory of the  libxml distribution).</p>
            
            <p>From <a
            href="http://depixelate.com/2008/4/23/ruby-xml-parsing-benchmarks">depixelate.com/2008/4/23/ruby-xml-parsing-benchmarks</a></p>
            
            <pre>              user     system      total        real&#x000A;libxml    0.032000   0.000000   0.032000 (  0.031000)&#x000A;Hpricot   0.640000   0.031000   0.671000 (  0.890000)&#x000A;REXML     1.813000   0.047000   1.860000 (  2.031000)</pre>
            
            <p>From <a
            href="https://svn.concord.org/svn/projects/trunk/common/ruby/xml_benchmarks">svn.concord.org/svn/projects/trunk/common/ruby/xml_benchmarks</a>/</p>
            
            <pre>              user     system      total        real&#x000A;libxml    0.641000   0.031000   0.672000 (  0.672000)&#x000A;hpricot   5.359000   0.062000   5.421000 (  5.516000)&#x000A;rexml    22.859000   0.047000  22.906000 ( 23.203000)</pre>
            
            <h2 id="label-Documentation">Documentation<span><a href="#label-Documentation">&para;</a> <a href="#top">&uarr;</a></span></h2>
            
            <p>Documentation is available via rdoc, and is installed automatically with
            the gem.</p>
            
            <p>libxml-ruby&#39;s online documentation is generated using Hanna, which is a
            development gem dependency.</p>
            
            <p>Note that older versions of Rdoc, which ship with Ruby 1.8.x, will report a
            number of errors.  To avoid them, install Rdoc 2.1 or higher.  Once you
            have installed the gem, you&#39;ll have to disable the version of Rdoc that
            Ruby 1.8.x includes.  An easy way to do that is rename the directory
            ruby/lib/ruby/1.8/rdoc to ruby/lib/ruby/1.8/rdoc_old.</p>
            
            <h2 id="label-Support">Support<span><a href="#label-Support">&para;</a> <a href="#top">&uarr;</a></span></h2>
            
            <p>If you have any questions about using libxml-ruby, please report them to
            Git Hub at <a
            href="https://github.com/xml4r/libxml-ruby/issues">github.com/xml4r/libxml-ruby/issues</a></p>
            
            <h2 id="label-Memory+Management">Memory Management<span><a href="#label-Memory+Management">&para;</a> <a href="#top">&uarr;</a></span></h2>
            
            <p>libxml-ruby automatically manages memory associated with the underlying
            libxml2 library.  The bindings create a one-to-one mapping between ruby
            objects and libxml documents and libxml parent nodes (ie, nodes that do not
            have a parent and do not belong to a document). In these cases, the
            bindings manage the memory.  They do this by installing a free function and
            storing a back pointer to the Ruby object from the xmlnode using the
            _private member on libxml structures.  When the Ruby object goes out of
            scope, the underlying libxml structure is freed.  Libxml itself then frees
            all child node (recursively).</p>
            
            <p>For all other nodes (the vast majority), the bindings create temporary Ruby
            objects that get freed once they go out of scope. Thus there can be more
            than one ruby object pointing to the same xml node. To mostly hide this
            from programmers on the ruby side, the eql? and #== methods are overriden
            to check if two ruby objects wrap the same xmlnode.  If they do, then the
            methods return true.  During the mark phase, each of these temporary
            objects marks its owning document, thereby keeping the Ruby document object
            alive and thus the xmldoc tree.</p>
            
            <p>In the sweep phase of the garbage collector, or when a program ends, there
            is no order to how Ruby objects are freed. In fact, the ruby document
            object is almost always freed before any ruby objects that wrap child
            nodes. However, this is ok because those ruby objects do not have a free
            function and are no longer in scope (since if they were the document would
            not be freed).</p>
            
            <h2 id="label-License">License<span><a href="#label-License">&para;</a> <a href="#top">&uarr;</a></span></h2>
            
            <p>See <a href="LICENSE.html">LICENSE</a> for license information.</p>
          </div>
          <div id='context'>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="https://github.com/rdoc/hanna-nouveau"><strong>Hanna Nouveau</strong> RDoc template</a>
    </div>
  </body>
</html>
